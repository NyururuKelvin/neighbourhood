{%extends 'temps/base.html'%}
{% load bootstrap4 %}
{% load static%}

{% block content %}
    {{block.super}}
    <div id="demo" class="carousel slide" data-ride="carousel" style="margin-top: 4%;">
        <!-- Indicators -->
        <ul class="carousel-indicators">
            <li data-target="#demo" data-slide-to="0" class="active"></li>
            <li data-target="#demo" data-slide-to="1"></li>
            <li data-target="#demo" data-slide-to="2"></li>
            <li data-target="#demo" data-slide-to="3"></li>
        </ul>
        
        <!-- The slideshow -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{{request.scheme}}://{{request.META.HTTP_HOST}}{% static 'images/1.jpg' %}" alt="image" style="width: 100%; height: 90vh;">
            </div>
            <div class="carousel-item">
                <img src="{{request.scheme}}://{{request.META.HTTP_HOST}}{% static 'images/2.jpg' %}" alt="image" style="width: 100%; height: 90vh;">
            </div>
            <div class="carousel-item">
                <img src="{{request.scheme}}://{{request.META.HTTP_HOST}}{% static 'images/4.jpg' %}" alt="image" style="width: 100%; height: 90vh;">
            </div>
            <div class="carousel-item">
                <img src="{{request.scheme}}://{{request.META.HTTP_HOST}}{% static 'images/6.jpg' %}" alt="image" style="width: 100%; height: 90vh;">
            </div>
        </div>
        
        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#demo" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#demo" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>
    </div>

    <div class="container" >
        <div class="row">
            <div class="col m12">
                <legend style="text-align: center;">Hood Watch For {{profile.neighborhood}}</legend>

            </div>
            {% for post in posts %}
            <div class="col s12 m6">
             <div class="card-panel">
               <h5>{{post.title}}</h5>
               <p>{{post.description|truncatechars:1000}}</p>
               <a class="waves-effect waves-light btn" href="{% url 'post' post.id %}">Read More</a>
             </div>
            </div>
            {% endfor %}
            <div class="fixed-action-btn">
                <a class="btn-floating btn-large pink modal-trigger" href="#modal1"><i class="large material-icons">add</i></a>
            </div>
        </div>
        <!-- Modal Structure -->
        <div id="modal1" class="modal" style="max-height: 800px !important;">
          <form action="{% url 'index' %}" method='post' enctype="multipart/form-data">
          <div class="modal-content">
            <h4>Add a Post</h4>

                {% csrf_token %}
                {{ form }}

          </div>
          <div class="modal-footer">
              <button type='submit' class="btn btn-primary" style="margin-right:20px;">Submit</button>
          </div>
          </form>
        </div>
          {% block script%}
          <script type="text/javascript">
              $(document).ready(function(){
                $('.modal').modal();
                $('select').formSelect();
              });
          </script>
          {% endblock %}
    </div>
{%endblock%}
